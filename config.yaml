# =============================================================================
# Models - the LLMs to test
# =============================================================================
models:
  - name: opus
    provider: anthropic
    model: claude-opus-4-5-20251101

  - name: glm-4.7-flash
    provider: ollama
    model: glm-4.7-flash:latest

  # too slow on 64g:
  #- name: frob/qwen3-coder-next:latest
  #  provider: ollama
  #  model: frob/qwen3-coder-next:latest

  - name: kimi-k2.5
    provider: ollama
    model: kimi-k2.5:cloud

  - name: gpt-oss-120b
    provider: ollama
    model: gpt-oss:120b-cloud

  - name: gpt-oss-20b
    provider: ollama
    model: gpt-oss:20b

  - name: qwen3-coder:latest
    provider: ollama
    model: qwen3-coder:latest

  # good but too slow on 64G
  #- name: nemotron-3-nano
  #  provider: ollama
  #  model: nemotron-3-nano:latest

# =============================================================================
# Runners - agent frameworks with their specific configurations
# =============================================================================
# Each runner has its own binary, extensions/config, and isolated config directory
runners:
  # - name: goose
  #   type: goose
  #   bin: goose
  #   extensions: [developer]
  #   stdio:
  #     - node mcp-harness/dist/index.js

  - name: goose-full
    type: goose
    bin: goose
    extensions: [developer, todo, skills, code_execution, extensionmanager]
    stdio:
      - node mcp-harness/dist/index.js

  - name: goose-lean-dev
    type: goose
    bin: goose
    extensions: [developer]

  - name: goose-lean-code-mode
    type: goose
    bin: goose
    extensions: [developer, code_execution]

  - name: goose-lean-full
    type: goose
    bin: goose
    extensions: [developer]
    stdio:
      - node mcp-harness/dist/index.js

  - name: opencode
    type: opencode
    bin: opencode
    stdio:
      - node mcp-harness/dist/index.js

# =============================================================================
# Test Matrix
# =============================================================================
# scenarios × models × runners
# - Omit 'models' to run against ALL models
# - Omit 'runners' to run against ALL runners
matrix:
  # everyday-app-automation runs against all models and all runners
  - scenario: everyday-app-automation
    runners: [goose-full]

  # file-editing runs against all models and all runners
  #- scenario: file-editing
  #  runners: [goose-lean-dev, goose-lean-code-mode]

  # multi-turn-edit only runs on goose (only goose supports multi-turn)
  - scenario: multi-turn-edit
    runners: [goose-full]
